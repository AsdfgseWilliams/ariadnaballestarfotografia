---
import { getLangFromUrl, useTranslations } from "src/i18n/utils";
import { getRelativeLocaleUrl } from 'astro:i18n';
import { slugMap } from 'src/i18n/slug-map';
const lang = getLangFromUrl(Astro.url) as 'es' | 'en';
const t = useTranslations(lang);
---

<section class="py-12 md:py-24 mx-auto justify-center text-center" style="background-image: url('/img/fondo-1.webp'), linear-gradient(-90deg, #ffffff 59%, rgba(255, 255, 255, 0.7) 67%);
background-blend-mode: overlay; background-size: cover;">

<div class="max-w-[90%] md:max-w-[1240px] mx-auto flex flex-col md:grid md:grid-cols-3 md:gap-6 md:max-h-[500px] space-y-12 md:space-y-0">
    
    <!-- Columna 3 - CTA (primero en móvil, último en desktop) -->
    <div class="order-1 md:order-3 flex flex-col justify-center items-center px-4 md:px-0 md:-mx-[6vw]">
        <h2 class="text-3xl md:text-5xl uppercase">{t('home.cta3.h2')}</h2>
        <p class="mt-5 text-base">{t('home.cta3.p')}</p>
        <a class="link-button mt-8" href={getRelativeLocaleUrl(lang, slugMap['contacto'][lang])}>{t('home.cta3.button')}</a>
    </div>
    
    <!-- Columna 2 - Imagen central -->
    <div class="order-2 flex justify-center md:block">
        <img src="/img/13.webp" class="w-full max-w-[350px] md:max-w-none md:max-h-[500px] md:w-auto">
    </div>
    
    <!-- Columna 1 - Imágenes superpuestas -->
    <div class="order-3 md:order-1 relative flex justify-center md:block md:mr-[3%] md:mb-12 md:min-w-96">
        <div class="relative w-full md:max-w-none">
            <img src="/img/14.webp" class="hidden md:block w-[270px] mx-auto md:mx-0 md:mb-[4.787%] md:mr-auto">
            <img src="/img/15-500x333.webp" class="w-full md:w-72 mx-auto md:mx-0 md:ml-auto md:-mt-[8vw]">
        </div>
    </div>
    
</div>

</section>